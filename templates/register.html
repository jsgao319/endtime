<!doctype html>
<html>
{% load static %}
<head>
<title>Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false); function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- font files  -->
<link href='https://fonts.googleapis.com/css?family=Muli:400,300' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
<!-- /font files  -->
<!-- css files -->
<link href="{% static 'css/style.css' %}" rel='stylesheet' type='text/css' media="all" />
<!-- /css files -->
</head>
<body>
<h1>Register</h1>
<div class="log">
	<div class="content2">
		<h2>Register</h2>
		<form id="register" method="post" action="{% url 'endapp:register1' %}">
			{% csrf_token %}
            <input type="text" id="txt_username" onblur="checkname()" name="txt_username" value="USERNAME" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'NAME AND SURNAME';}">
			<span id="J_tipUsername2" class="cue"></span>
            <input  onblur="mobile()" type="email" id='email' name="email" value="EMAIL ADDRESS" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'EMAIL ADDRESS';}">
            <span id="J_tipUsername1" class="cue"></span>
            <input onblur="mobile1()" id="txt_mobile" type="tel" name="txt_mobile"   value="邮箱验证" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'PHONE';}">
            <span id="J_tipUsername3" class="cue"></span>
            <br>
            <input type="button" value="邮箱验证"  onclick="emailyan()">
            <br>
            <input onblur="checkname1()" id="txt_repassword" type="password" name="txt_repassword"   value="邮箱验证" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'PHONE';}">

{#            <input onblur="checkname1()" id="txt_repassword" type="txt_repassword" name="psw" value="PASSWORD" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'PASSWORD';}">#}
			<span id="J_tipUsername4" class="cue"></span>
            <input type="submit" class="register" value="Register">
		</form>
	</div>
	<div class="clear"></div>
</div>
<div class="footer">
	<p>Copyright &copy;  <a href="http://www.baizhiedu.com/" target="_blank" title="百知教育">百知教育</a></p>
</div>
<script src="{% static 'jquery.1.8.3.min.js' %}"></script>
<script>
    yz1=0   {# 实际项目开发必须去后端验证不能在前端写安全度低 #}
    function mobile() {
        username=document.getElementById('email').value
        console.log(username,'198')
        var msg = document.getElementById('J_tipUsername1');
{#(/^(1[3584]\d{9})$/).test(username)|#}
        if((/^(\w-*\.*)+@(\w-?)+(\.\w{2,5})$/).test(username)){
            msg.innerHTML = '<img src = "{% static 'images/mima34_03.png' %}" style="width:20px " >';
            yz1=1
                {#msg.innerHTML ="23"#}
        }
        else{
            msg.innerHTML ="输入格式不对请重新输入"
        }

    }
    function checkname() {
        username=document.getElementById('txt_username').value
        console.log(username,'198')
        var msg = document.getElementById('J_tipUsername2');
{#(/^(1[3584]\d{9})$/).test(username)|#}
{#        ^[a-z](?!\d{4,14}$)(?![a-z]{4,14}$)[a-z\d]{4,14}$#}
        if((/^([a-zA-Z]+\w){1,10}$/).test(username)){
            msg.innerHTML = '<img src = "{% static 'images/mima34_03.png' %}" style="width:20px " >';
            yz1=1
                {#msg.innerHTML ="23"#}
        }
        else{
            msg.innerHTML ="输入格式不对请重新输入，不能以数字开头"
        }

    }
    function checkname1() {
        username=document.getElementById('txt_repassword').value
        console.log(username,'198')
        var msg = document.getElementById('J_tipUsername4');
{#(/^(1[3584]\d{9})$/).test(username)|#}
        if((/^([\w]{6,})$/).test(username)){
            msg.innerHTML = '<img src = "{% static 'images/mima34_03.png' %}" style="width:20px " >';
            yz1=1
                {#msg.innerHTML ="23"#}
        }
        else{
            msg.innerHTML ="安全度太低不能小于6位"
        }

    }
    function emailyan() {
        var txt_mobile=document.getElementById('email').value;
        console.log(txt_mobile);
         $.ajax({
            {#console.log(a)#}
            type:'get',
            url:"{% url 'endapp:mail' %}",
            data:{"id":txt_mobile},
            success:function (msg) {

             }
        })
    }
</script>
</body>
</html>